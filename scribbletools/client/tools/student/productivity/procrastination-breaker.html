<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procrastination Breaker - FREE Student Productivity & Focus Enhancement Tool</title>
    <meta name="description" content="FREE Procrastination Breaker for students to overcome procrastination, boost productivity, and improve focus. Get personalized strategies, time management tips, and motivation to tackle academic tasks.">
    <meta name="keywords" content="procrastination breaker, student productivity, overcome procrastination, focus enhancement, time management, academic motivation, study productivity, task management, student focus tools">
    <meta name="robots" content="index, follow">
    <meta name="author" content="ScribbleTools">
    <link rel="canonical" href="https://scribbletools.shramkavach.com/client/tools/student/productivity/procrastination-breaker.html">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Procrastination Breaker - FREE Student Productivity & Focus Enhancement Tool">
    <meta property="og:description" content="FREE Procrastination Breaker for students to overcome procrastination, boost productivity, and improve focus. Get personalized strategies, time management tips, and motivation to tackle academic tasks.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://scribbletools.shramkavach.com/client/tools/student/productivity/procrastination-breaker.html">
    <meta property="og:image" content="https://scribbletools.shramkavach.com/assets/og-image.svg">
    <meta property="og:site_name" content="ScribbleTools">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Procrastination Breaker - FREE Student Productivity & Focus Enhancement Tool">
    <meta name="twitter:description" content="FREE Procrastination Breaker for students to overcome procrastination, boost productivity, and improve focus. Get personalized strategies and time management tips.">
    <meta name="twitter:image" content="https://scribbletools.shramkavach.com/assets/og-image.svg">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Procrastination Breaker - Student Productivity Tool",
        "description": "Free online procrastination breaker tool for students to overcome procrastination, boost productivity, improve focus with personalized strategies and time management techniques.",
        "url": "https://scribbletools.shramkavach.com/client/tools/student/productivity/procrastination-breaker.html",
        "applicationCategory": "ProductivityApplication",
        "operatingSystem": "Any",
        "permissions": "browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Procrastination Assessment",
            "Personalized Strategies",
            "Time Management Tips",
            "Focus Enhancement Techniques",
            "Motivation Boosters",
            "Task Breaking Methods",
            "Progress Tracking",
            "Academic Success Tips"
        ],
        "audience": {
            "@type": "EducationalAudience",
            "educationalRole": "student"
        },
        "creator": {
            "@type": "Organization",
            "name": "ScribbleTools"
        }
    }
    </script>
    <style>
        /* Procrastination Breaker Specific Styles - All prefixed with 'procrastination-' to avoid conflicts */
        .procrastination-root,
        .procrastination-main-container,
        .procrastination-body,
        body.procrastination-body,
        html {
            --procrastination-font-primary: 'Poppins', sans-serif !important;
            
            /* Enhanced Color Palette */
            --procrastination-color-primary: #667eea !important;
            --procrastination-color-primary-dark: #5a6fd8 !important;
            --procrastination-color-secondary: #764ba2 !important;
            --procrastination-color-accent: #f39c12 !important;
            --procrastination-color-success: #28a745 !important;
            --procrastination-color-danger: #dc3545 !important;
            --procrastination-color-info: #17a2b8 !important;
            
            /* Background & Surface Colors */
            --procrastination-color-background: #f5f7fa !important;
            --procrastination-color-surface: #ffffff !important;
            --procrastination-color-surface-alt: #f8f9fa !important;
            
            /* Text Colors */
            --procrastination-color-text-primary: #2c3e50 !important;
            --procrastination-color-text-secondary: #6c757d !important;
            --procrastination-color-text-on-primary: #ffffff !important;
            
            /* Border & Shadow */
            --procrastination-color-border: #e9ecef !important;
            --procrastination-shadow-sm: 0 2px 4px rgba(0,0,0,0.08) !important;
            --procrastination-shadow-md: 0 4px 12px rgba(0,0,0,0.15) !important;
            --procrastination-shadow-lg: 0 8px 32px rgba(0,0,0,0.18) !important;
        }

        .procrastination-body { 
            font-family: var(--procrastination-font-primary); 
            background: var(--procrastination-color-background); 
            color: var(--procrastination-color-text-primary); 
            margin: 0; 
            padding: 20px; 
            line-height: 1.7;
            min-height: 100vh;
            scroll-behavior: smooth;
        }

        .procrastination-main-container {
            max-width: 1200px !important;
            margin: 0 auto !important;
            background: var(--procrastination-color-surface) !important;
            border-radius: 15px !important;
            box-shadow: var(--procrastination-shadow-lg) !important;
            overflow: hidden !important;
            border: 1px solid var(--procrastination-color-border) !important;
            position: relative !important;
        }
        
        .procrastination-header {
            background: linear-gradient(135deg, var(--procrastination-color-primary) 0%, var(--procrastination-color-secondary) 100%) !important;
            color: var(--procrastination-color-text-on-primary) !important;
            padding: 30px !important;
            text-align: center !important;
        }
        
        .procrastination-header h1 {
            font-family: 'Caveat', cursive !important;
            font-size: 3.5rem !important;
            margin-bottom: 15px !important;
            font-weight: 700 !important;
            background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%) !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            background-clip: text !important;
        }
        
        .procrastination-header p {
            font-family: 'Poppins', sans-serif !important;
            font-size: 1.1rem !important;
            opacity: 0.9 !important;
            color: var(--procrastination-color-text-on-primary) !important;
        }

        .procrastination-content {
            padding: 30px 40px !important;
            background: var(--procrastination-color-surface) !important;
        }

        /* Form Section */
        .procrastination-form-section {
            border-radius: 10px !important;
            padding: 25px !important;
            margin-bottom: 30px !important;
            border: 1px solid var(--procrastination-color-border) !important;
            background: var(--procrastination-color-surface) !important;
        }
        
        .procrastination-form-title {
            font-size: 1.5rem !important;
            color: var(--procrastination-color-text-primary) !important;
            margin-bottom: 20px !important;
            font-weight: 600 !important;
            display: flex !important;
            align-items: center !important;
        }
        
        .procrastination-form-title::before {
            content: "‚ö°" !important;
            margin-right: 10px !important;
            font-size: 1.8rem !important;
        }
        
        .procrastination-form-grid {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
            gap: 20px !important;
            margin-bottom: 20px !important;
        }
        
        .procrastination-form-group {
            display: flex !important;
            flex-direction: column !important;
        }
        
        .procrastination-form-group label {
            font-weight: 600 !important;
            color: var(--procrastination-color-text-secondary) !important;
            margin-bottom: 8px !important;
            font-size: 0.95rem !important;
        }
        
        .procrastination-form-group input, 
        .procrastination-form-group select,
        .procrastination-form-group textarea {
            padding: 12px 15px !important;
            border: 2px solid var(--procrastination-color-border) !important;
            border-radius: 10px !important;
            font-size: 1rem !important;
            transition: all 0.3s ease !important;
            background: var(--procrastination-color-surface) !important;
        }
        
        .procrastination-form-group input:focus, 
        .procrastination-form-group select:focus,
        .procrastination-form-group textarea:focus {
            outline: none !important;
            border-color: var(--procrastination-color-primary) !important;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
        }
        
        .procrastination-btn-container {
            display: flex !important;
            gap: 15px !important;
            flex-wrap: wrap !important;
        }
        
        .procrastination-btn {
            padding: 12px 25px !important;
            border: none !important;
            border-radius: 10px !important;
            font-size: 1rem !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 8px !important;
        }
        
        .procrastination-btn-primary {
            background: linear-gradient(135deg, var(--procrastination-color-primary) 0%, var(--procrastination-color-secondary) 100%) !important;
            color: var(--procrastination-color-text-on-primary) !important;
            box-shadow: var(--procrastination-shadow-md) !important;
        }
        
        .procrastination-btn-primary:hover {
            transform: translateY(-2px) !important;
            box-shadow: var(--procrastination-shadow-lg) !important;
        }
        
        .procrastination-btn-secondary {
            background: var(--procrastination-color-surface) !important;
            color: var(--procrastination-color-primary) !important;
            border: 2px solid var(--procrastination-color-primary) !important;
        }
        
        .procrastination-btn-secondary:hover {
            background: var(--procrastination-color-surface-alt) !important;
        }

        /* Summary Section */
        .procrastination-summary-section {
            background: linear-gradient(135deg, var(--procrastination-color-primary) 0%, var(--procrastination-color-secondary) 100%) !important;
            color: var(--procrastination-color-text-on-primary) !important;
            border-radius: 15px !important;
            padding: 25px !important;
            margin-bottom: 30px !important;
            box-shadow: var(--procrastination-shadow-lg) !important;
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            flex-wrap: wrap !important;
            gap: 20px !important;
        }
        
        .procrastination-summary-item {
            text-align: center !important;
        }
        
        .procrastination-summary-value {
            font-size: 2.5rem !important;
            font-weight: 700 !important;
            color: var(--procrastination-color-text-on-primary) !important;
            margin-bottom: 5px !important;
        }
        
        .procrastination-summary-label {
            font-size: 0.9rem !important;
            opacity: 0.9 !important;
            color: var(--procrastination-color-text-on-primary) !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
        }

        /* Task List */
        .task-list {
            margin-bottom: 30px;
        }
        
        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .list-title {
            font-size: 1.5rem;
            color: #333;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .list-title::before {
            content: "üìã";
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .task-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .task-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .task-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, #667eea, #764ba2);
        }
        
        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .task-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            padding-right: 30px;
        }
        
        .task-info {
            margin-bottom: 15px;
        }
        
        .task-info-item {
            display: flex;
            margin-bottom: 8px;
            font-size: 0.95rem;
            color: #666;
        }
        
        .task-info-label {
            font-weight: 600;
            width: 80px;
            flex-shrink: 0;
        }
        
        .task-progress {
            margin: 15px 0;
        }
        
        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .task-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .task-action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .breakdown-btn {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .breakdown-btn:hover {
            background: rgba(102, 126, 234, 0.2);
        }
        
        .session-btn {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
        }
        
        .session-btn:hover {
            background: rgba(40, 167, 69, 0.2);
        }
        
        .complete-btn {
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
        }
        
        .complete-btn:hover {
            background: rgba(243, 156, 18, 0.2);
        }
        
        .task-actions-menu {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .edit-btn {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .edit-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: scale(1.1);
        }
        
        .delete-btn {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .delete-btn:hover {
            background: rgba(220, 53, 69, 0.2);
            transform: scale(1.1);
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #555;
        }
        
        .empty-state p {
            font-size: 1rem;
            max-width: 500px;
            margin: 0 auto;
        }

        /* Subtasks */
        .subtasks-container {
            margin-top: 15px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .subtasks-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #555;
        }
        
        .subtask-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .subtask-checkbox {
            margin-right: 10px;
        }
        
        .subtask-text {
            flex-grow: 1;
        }
        
        .subtask-time {
            font-size: 0.85rem;
            color: #666;
        }

        /* Gamification Section */
        .gamification-section {
            background: var(--procrastination-color-surface-alt);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid var(--procrastination-color-border);
        }
        
        .gamification-title {
            font-size: 1.5rem;
            color: var(--procrastination-color-text-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .gamification-title::before {
            content: "üéÆ";
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .gamification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .gamification-item {
            background: white;
            border: 1px solid var(--procrastination-color-border);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .gamification-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--procrastination-shadow-sm);
        }
        
        .gamification-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .gamification-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--procrastination-color-primary);
            margin-bottom: 5px;
        }
        
        .gamification-label {
            font-size: 0.9rem;
            color: var(--procrastination-color-text-secondary);
        }

        /* Achievements */
        .achievements-container {
            margin-top: 20px;
        }
        
        .achievements-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .achievement-badge {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 2rem;
            background: #f0f0f0;
            color: #ccc;
            transition: all 0.3s ease;
        }
        
        .achievement-badge.unlocked {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            box-shadow: 0 4px 8px rgba(243, 156, 18, 0.3);
        }

        /* Timer Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalFadeIn 0.3s ease;
            text-align: center;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #333;
            font-weight: 600;
        }
        
        .timer-display {
            font-size: 4rem;
            font-weight: 700;
            color: var(--procrastination-color-primary);
            margin: 20px 0;
        }
        
        .timer-task {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 20px;
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .timer-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timer-start {
            background: var(--procrastination-color-success);
            color: white;
        }
        
        .timer-pause {
            background: var(--procrastination-color-accent);
            color: white;
        }
        
        .timer-stop {
            background: var(--procrastination-color-danger);
            color: white;
        }
        
        .timer-skip {
            background: var(--procrastination-color-secondary);
            color: white;
        }
        
        /* Breakdown Modal */
        .breakdown-content {
            margin-bottom: 20px;
        }
        
        .breakdown-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid var(--procrastination-color-border);
            border-radius: 8px;
        }
        
        .breakdown-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        
        .breakdown-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: var(--procrastination-color-surface-alt);
            border-radius: 8px;
            margin-bottom: 8px;
        }
        
        .breakdown-item-text {
            flex-grow: 1;
            margin-right: 10px;
        }
        
        .breakdown-item-time {
            width: 80px;
            text-align: right;
        }
        
        .breakdown-item-remove {
            background: none;
            border: none;
            color: var(--procrastination-color-danger);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 0 5px;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.5s ease;
            border-left: 5px solid #667eea;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .notification p {
            color: #666;
            margin-bottom: 15px;
        }
        
        .notification button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .notification button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .procrastination-header h1 {
                font-size: 2.5rem !important;
            }
            
            .procrastination-header {
                padding: 2rem 1.5rem !important;
            }
            
            .procrastination-header p {
                font-size: 1rem !important;
            }
            
            .procrastination-content {
                padding: 20px !important;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .summary-section {
                flex-direction: column;
                text-align: center;
            }
            
            .task-grid {
                grid-template-columns: 1fr;
            }
            
            .gamification-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .achievements-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .modal-content {
                width: 95%;
                padding: 20px;
            }
            
            .timer-display {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 480px) {
            .procrastination-header h1 {
                font-size: 2rem !important;
            }
            
            .procrastination-header p {
                font-size: 0.9rem !important;
            }
            
            .procrastination-header {
                padding: 1.5rem 1rem !important;
            }
        }
        
        @media (max-width: 360px) {
            .procrastination-header h1 {
                font-size: 1.75rem !important;
            }
            
            .procrastination-header p {
                font-size: 0.85rem !important;
            }
            
            .procrastination-main-container {
                border-radius: 10px !important;
            }
        }
    </style>
    <link rel="stylesheet" href="../force-desktop-layout.css">
</head>
<body class="procrastination-body">
    <div class="procrastination-main-container">
        <div class="procrastination-header">
            <h1><span style="display: inline-block; -webkit-text-fill-color: initial; background: none;">‚ö°</span> <span style="background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Free Procrastination Breaker - Student Productivity & Focus Enhancement Tool</span></h1>
            <p>Break large tasks into small, timed chunks to overcome procrastination and boost academic productivity</p>
        </div>
        
        <div class="procrastination-content">
            <!-- Add Task Form -->
            <div class="procrastination-form-section">
                <h2 class="procrastination-form-title">Add New Task</h2>
                <form id="taskForm">
                    <div class="procrastination-form-grid">
                        <div class="procrastination-form-group">
                            <label for="taskName">Task Name</label>
                            <input type="text" id="taskName" required placeholder="e.g., Write research paper">
                        </div>
                        <div class="procrastination-form-group">
                            <label for="taskCategory">Category</label>
                            <select id="taskCategory" required>
                                <option value="">Select category</option>
                                <option value="academic">Academic</option>
                                <option value="work">Work</option>
                                <option value="personal">Personal</option>
                                <option value="health">Health</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="procrastination-form-group">
                            <label for="estimatedTime">Estimated Time (hours)</label>
                            <input type="number" id="estimatedTime" min="0.5" step="0.5" required placeholder="e.g., 5">
                        </div>
                        <div class="procrastination-form-group">
                            <label for="difficulty">Difficulty</label>
                            <select id="difficulty" required>
                                <option value="">Select difficulty</option>
                                <option value="easy">Easy</option>
                                <option value="medium">Medium</option>
                                <option value="hard">Hard</option>
                                <option value="overwhelming">Overwhelming</option>
                            </select>
                        </div>
                    </div>
                    <div class="procrastination-form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" rows="3" placeholder="Describe your task and why it's important..."></textarea>
                    </div>
                    <div class="procrastination-btn-container">
                        <button type="submit" class="procrastination-btn procrastination-btn-primary">
                            <span>‚ûï</span> Add Task
                        </button>
                        <button type="button" class="procrastination-btn procrastination-btn-secondary" onclick="clearForm()">
                            <span>üóëÔ∏è</span> Clear Form
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Summary Section -->
            <div class="procrastination-summary-section">
                <div class="procrastination-summary-item">
                    <div class="procrastination-summary-value" id="totalTasks">0</div>
                    <div class="procrastination-summary-label">Total Tasks</div>
                </div>
                <div class="procrastination-summary-item">
                    <div class="procrastination-summary-value" id="completedTasks">0</div>
                    <div class="procrastination-summary-label">Completed</div>
                </div>
                <div class="procrastination-summary-item">
                    <div class="procrastination-summary-value" id="currentStreak">0</div>
                    <div class="procrastination-summary-label">Day Streak</div>
                </div>
                <div class="procrastination-summary-item">
                    <div class="procrastination-summary-value" id="totalPoints">0</div>
                    <div class="procrastination-summary-label">Points</div>
                </div>
            </div>
            
            <!-- Gamification Section -->
            <div class="gamification-section">
                <h2 class="gamification-title">Your Progress</h2>
                <div class="gamification-grid">
                    <div class="gamification-item">
                        <div class="gamification-icon">üèÜ</div>
                        <div class="gamification-value" id="tasksCompletedToday">0</div>
                        <div class="gamification-label">Tasks Today</div>
                    </div>
                    <div class="gamification-item">
                        <div class="gamification-icon">‚è±Ô∏è</div>
                        <div class="gamification-value" id="totalFocusTime">0</div>
                        <div class="gamification-label">Focus Hours</div>
                    </div>
                    <div class="gamification-item">
                        <div class="gamification-icon">üî•</div>
                        <div class="gamification-value" id="currentSessionStreak">0</div>
                        <div class="gamification-label">Session Streak</div>
                    </div>
                    <div class="gamification-item">
                        <div class="gamification-icon">‚ö°</div>
                        <div class="gamification-value" id="avgSessionTime">0</div>
                        <div class="gamification-label">Avg Session</div>
                    </div>
                </div>
                
                <div class="achievements-container">
                    <h3 class="achievements-title">Achievements</h3>
                    <div class="achievements-grid">
                        <div class="achievement-badge" id="firstTask" title="First Task">üéØ</div>
                        <div class="achievement-badge" id="threeTasks" title="Three Tasks">üèÉ</div>
                        <div class="achievement-badge" id="weekStreak" title="Week Streak">üî•</div>
                        <div class="achievement-badge" id="tenHours" title="Ten Hours">‚è±Ô∏è</div>
                        <div class="achievement-badge" id="hardTask" title="Hard Task">üí™</div>
                        <div class="achievement-badge" id="earlyBird" title="Early Bird">üåÖ</div>
                    </div>
                </div>
            </div>
            
            <!-- Task List -->
            <div class="task-list">
                <div class="list-header">
                    <h2 class="list-title">Your Tasks</h2>
                    <div class="btn-container">
                        <button class="procrastination-btn procrastination-btn-secondary" onclick="exportToCSV()">
                            <span>üì§</span> Export CSV
                        </button>
                        <button class="procrastination-btn procrastination-btn-secondary" onclick="clearAllTasks()">
                            <span>üóëÔ∏è</span> Clear All
                        </button>
                    </div>
                </div>
                
                <div id="taskContainer">
                    <div class="empty-state">
                        <div class="empty-state-icon">‚ö°</div>
                        <h3>No Tasks Added Yet</h3>
                        <p>Add your first task using the form above to start breaking through procrastination.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Timer Modal -->
    <div class="modal" id="timerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Focus Session</h3>
            </div>
            <div class="timer-task" id="timerTaskName">Task Name</div>
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="timer-controls">
                <button id="timerStart" class="timer-btn timer-start">Start</button>
                <button id="timerPause" class="timer-btn timer-pause">Pause</button>
                <button id="timerStop" class="timer-btn timer-stop">Stop</button>
                <button id="timerSkip" class="timer-btn timer-skip">Skip Break</button>
            </div>
        </div>
    </div>
    
    <!-- Breakdown Modal -->
    <div class="modal" id="breakdownModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Break Down Your Task</h3>
                <button class="modal-close" onclick="closeBreakdownModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="breakdown-content">
                    <p>Break your task into smaller, manageable steps:</p>
                    <div class="breakdown-list" id="breakdownList">
                        <!-- Subtasks will be added here -->
                    </div>
                    <div class="procrastination-form-group">
                        <input type="text" id="newSubtask" class="breakdown-input" placeholder="Add a subtask">
                        <input type="number" id="subtaskTime" class="breakdown-input" placeholder="Time (min)" min="5" max="60" value="15">
                        <button class="procrastination-btn procrastination-btn-primary" onclick="addSubtask()">Add</button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="procrastination-btn procrastination-btn-secondary" onclick="closeBreakdownModal()">Cancel</button>
                <button class="procrastination-btn procrastination-btn-primary" onclick="saveBreakdown()">Save Breakdown</button>
            </div>
        </div>
    </div>
    
    <!-- SEO Content Section -->
    <div style="background: white; border-radius: 20px; padding: 2rem; margin-top: 3rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
            <h2 style="color: white; margin: 0 0 0.5rem 0; font-size: 1.8rem; font-weight: 600;">üöÄ How to Use the Procrastination Breaker</h2>
            <p style="margin: 0; color: rgba(255,255,255,0.95); font-size: 1.05rem; line-height: 1.6;">Break overwhelming tasks into manageable chunks, set focused work sessions, and track your progress to overcome procrastination and boost academic success.</p>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 2px solid #667eea; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                <h3 style="color: #667eea; margin: 0 0 1rem 0; font-size: 1.3rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                    <span style="font-size: 1.5rem;">üéØ</span> Procrastination Solutions
                </h3>
                <ul style="margin: 0; padding-left: 1.2rem; color: #555; line-height: 1.8;">
                    <li>Task breakdown and chunking strategies</li>
                    <li>Pomodoro technique implementation</li>
                    <li>Focus enhancement methods</li>
                    <li>Motivation and momentum building</li>
                </ul>
            </div>
            
            <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 2px solid #10b981; box-shadow: 0 2px 8px rgba(16, 185, 129, 0.15); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                <h3 style="color: #10b981; margin: 0 0 1rem 0; font-size: 1.3rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                    <span style="font-size: 1.5rem;">üìä</span> Productivity Features
                </h3>
                <ul style="margin: 0; padding-left: 1.2rem; color: #555; line-height: 1.8;">
                    <li>Task timing and progress tracking</li>
                    <li>Break scheduling and reminders</li>
                    <li>Completion rate analytics</li>
                    <li>Productivity insights and tips</li>
                </ul>
            </div>
            
            <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 2px solid #f59e0b; box-shadow: 0 2px 8px rgba(245, 158, 11, 0.15); transition: transform 0.3s ease, box-shadow 0.3s ease;">
                <h3 style="color: #f59e0b; margin: 0 0 1rem 0; font-size: 1.3rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                    <span style="font-size: 1.5rem;">üí°</span> Anti-Procrastination Tips
                </h3>
                <p style="margin: 0; color: #555; line-height: 1.8;">
                    <strong style="color: #333;">The 2-Minute Rule:</strong> If a task takes less than 2 minutes, do it immediately. For larger tasks, break them into 15-25 minute focused sessions with 5-minute breaks. Start with the easiest subtask to build momentum and overcome initial resistance.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <h3 id="notificationTitle">Success!</h3>
        <p id="notificationMessage">Task added successfully.</p>
        <button onclick="closeNotification()">Got it!</button>
    </div>
    
    <script>
        let tasks = [];
        let currentTaskId = null;
        let timerInterval = null;
        let timerSeconds = 25 * 60; // 25 minutes default
        let isPaused = false;
        let isBreakTime = false;
        let subtasks = {};
        let currentEditingTaskId = null;
        
        // Gamification data
        let userData = {
            points: 0,
            tasksCompletedToday: 0,
            totalFocusTime: 0, // in minutes
            currentSessionStreak: 0,
            currentStreak: 0,
            lastTaskDate: null,
            achievements: {
                firstTask: false,
                threeTasks: false,
                weekStreak: false,
                tenHours: false,
                hardTask: false,
                earlyBird: false
            }
        };
        
        // Procrastination Breaker Initialization Function
        function initializeProcrastinationBreaker() {
            console.log('‚ö° Initializing Procrastination Breaker...');
            
            // Load existing data
            loadTasks();
            loadUserData();
            updateSummary();
            updateGamification();
            checkAchievements();
            
            // Setup form submission handler
            const taskForm = document.getElementById('taskForm');
            if (taskForm) {
                // Remove existing listeners to prevent duplicates
                taskForm.removeEventListener('submit', handleTaskFormSubmit);
                taskForm.addEventListener('submit', handleTaskFormSubmit);
            }
            
            console.log('‚úÖ Procrastination Breaker initialized successfully');
        }
        
        function handleTaskFormSubmit(e) {
            e.preventDefault();
            addTask();
        }
        
        // Auto-initialize if DOMContentLoaded hasn't fired yet, otherwise wait for manual call
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeProcrastinationBreaker);
        } else {
            // DOM is already ready, but delay initialization slightly to ensure elements exist
            setTimeout(initializeProcrastinationBreaker, 100);
        }
        
        // Make initialization function globally available
        window.initializeProcrastinationBreaker = initializeProcrastinationBreaker;
        
        function addTask() {
            const taskName = document.getElementById('taskName').value;
            const category = document.getElementById('taskCategory').value;
            const estimatedTime = parseFloat(document.getElementById('estimatedTime').value);
            const difficulty = document.getElementById('difficulty').value;
            const description = document.getElementById('taskDescription').value;
            
            const task = {
                id: Date.now(),
                taskName,
                category,
                estimatedTime,
                difficulty,
                description,
                createdAt: new Date().toISOString(),
                progress: 0,
                completed: false,
                subtasks: [],
                sessions: []
            };
            
            tasks.push(task);
            saveTasks();
            renderTasks();
            updateSummary();
            clearForm();
            showNotification('Success!', 'Task added successfully.');
            
            // Check for first task achievement
            if (!userData.achievements.firstTask) {
                userData.achievements.firstTask = true;
                unlockAchievement('firstTask');
                addPoints(10);
            }
        }
        
        function clearForm() {
            document.getElementById('taskForm').reset();
        }
        
        function renderTasks() {
            const container = document.getElementById('taskContainer');
            
            if (tasks.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">‚ö°</div>
                        <h3>No Tasks Added Yet</h3>
                        <p>Add your first task using the form above to start breaking through procrastination.</p>
                    </div>
                `;
                return;
            }
            
            const grid = document.createElement('div');
            grid.className = 'task-grid';
            
            // Sort tasks by completion status and then by creation date
            const sortedTasks = [...tasks].sort((a, b) => {
                if (a.completed !== b.completed) {
                    return a.completed ? 1 : -1;
                }
                return new Date(b.createdAt) - new Date(a.createdAt);
            });
            
            sortedTasks.forEach((task, index) => {
                const originalIndex = tasks.findIndex(t => t.id === task.id);
                const card = document.createElement('div');
                card.className = 'task-card';
                
                // Calculate progress based on completed subtasks
                const completedSubtasks = task.subtasks.filter(st => st.completed).length;
                const totalSubtasks = task.subtasks.length;
                const progress = totalSubtasks > 0 ? (completedSubtasks / totalSubtasks) * 100 : 0;
                
                card.innerHTML = `
                    <div class="task-actions-menu">
                        <button class="action-btn edit-btn" onclick="editTask(${originalIndex})" title="Edit">‚úèÔ∏è</button>
                        <button class="action-btn delete-btn" onclick="deleteTask(${originalIndex})" title="Delete">üóëÔ∏è</button>
                    </div>
                    <h3 class="task-title">${task.taskName}</h3>
                    <div class="task-info">
                        <div class="task-info-item">
                            <span class="task-info-label">Category:</span>
                            <span>${task.category.charAt(0).toUpperCase() + task.category.slice(1)}</span>
                        </div>
                        <div class="task-info-item">
                            <span class="task-info-label">Time:</span>
                            <span>${task.estimatedTime} hours</span>
                        </div>
                        <div class="task-info-item">
                            <span class="task-info-label">Difficulty:</span>
                            <span>${task.difficulty.charAt(0).toUpperCase() + task.difficulty.slice(1)}</span>
                        </div>
                    </div>
                    <div class="task-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">
                            <span>${completedSubtasks}/${totalSubtasks} subtasks</span>
                            <span>${progress.toFixed(0)}%</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-action-btn breakdown-btn" onclick="openBreakdownModal(${task.id})">
                            <span>üî®</span> Break Down
                        </button>
                        <button class="task-action-btn session-btn" onclick="startSession(${task.id})">
                            <span>‚è±Ô∏è</span> Start Session
                        </button>
                        <button class="task-action-btn complete-btn" onclick="completeTask(${task.id})">
                            <span>‚úÖ</span> Complete
                        </button>
                    </div>
                `;
                
                // Add subtasks if they exist
                if (task.subtasks.length > 0) {
                    const subtasksContainer = document.createElement('div');
                    subtasksContainer.className = 'subtasks-container';
                    
                    const subtasksTitle = document.createElement('div');
                    subtasksTitle.className = 'subtasks-title';
                    subtasksTitle.textContent = 'Subtasks:';
                    
                    const subtasksList = document.createElement('div');
                    
                    task.subtasks.forEach(subtask => {
                        const subtaskItem = document.createElement('div');
                        subtaskItem.className = 'subtask-item';
                        subtaskItem.innerHTML = `
                            <input type="checkbox" class="subtask-checkbox" ${subtask.completed ? 'checked' : ''} 
                                onchange="toggleSubtask(${task.id}, '${subtask.id}')">
                            <span class="subtask-text">${subtask.text}</span>
                            <span class="subtask-time">${subtask.time} min</span>
                        `;
                        subtasksList.appendChild(subtaskItem);
                    });
                    
                    subtasksContainer.appendChild(subtasksTitle);
                    subtasksContainer.appendChild(subtasksList);
                    card.appendChild(subtasksContainer);
                }
                
                grid.appendChild(card);
            });
            
            container.innerHTML = '';
            container.appendChild(grid);
        }
        
        function updateSummary() {
            const totalTasks = tasks.length;
            const completedTasks = tasks.filter(t => t.completed).length;
            
            // Calculate current streak
            let currentStreak = 0;
            if (completedTasks > 0) {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let i = 0; i < 365; i++) {
                    const checkDate = new Date(today);
                    checkDate.setDate(checkDate.getDate() - i);
                    
                    const dateStr = checkDate.toISOString().split('T')[0];
                    const hasCompletedTask = tasks.some(task => 
                        task.completed && task.completedDate === dateStr
                    );
                    
                    if (hasCompletedTask) {
                        currentStreak++;
                    } else if (i > 0) {
                        break;
                    }
                }
            }
            
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('currentStreak').textContent = currentStreak;
            document.getElementById('totalPoints').textContent = userData.points;
        }
        
        function updateGamification() {
            // Calculate tasks completed today
            const today = new Date().toISOString().split('T')[0];
            const tasksCompletedToday = tasks.filter(t => 
                t.completed && t.completedDate === today
            ).length;
            
            // Calculate total focus time in hours
            const totalFocusHours = Math.round(userData.totalFocusTime / 60 * 10) / 10;
            
            // Calculate average session time in minutes
            const allSessions = tasks.flatMap(t => t.sessions);
            const avgSessionTime = allSessions.length > 0 
                ? Math.round(allSessions.reduce((sum, s) => sum + s.duration, 0) / allSessions.length)
                : 0;
            
            document.getElementById('tasksCompletedToday').textContent = tasksCompletedToday;
            document.getElementById('totalFocusTime').textContent = totalFocusHours;
            document.getElementById('currentSessionStreak').textContent = userData.currentSessionStreak;
            document.getElementById('avgSessionTime').textContent = avgSessionTime;
        }
        
        function openBreakdownModal(taskId) {
            currentEditingTaskId = taskId;
            const task = tasks.find(t => t.id === taskId);
            
            // Reset subtasks for this task
            subtasks = {};
            
            // Load existing subtasks if any
            if (task.subtasks && task.subtasks.length > 0) {
                task.subtasks.forEach(subtask => {
                    subtasks[subtask.id] = {
                        text: subtask.text,
                        time: subtask.time,
                        completed: subtask.completed
                    };
                });
            } else {
                // Generate default subtasks based on estimated time
                const estimatedMinutes = task.estimatedTime * 60;
                const numSubtasks = Math.max(3, Math.min(10, Math.ceil(estimatedMinutes / 30)));
                
                for (let i = 1; i <= numSubtasks; i++) {
                    subtasks[`subtask-${Date.now()}-${i}`] = {
                        text: `Step ${i}: ${task.taskName}`,
                        time: Math.min(60, Math.max(5, Math.round(estimatedMinutes / numSubtasks))),
                        completed: false
                    };
                }
            }
            
            renderBreakdownList();
            document.getElementById('breakdownModal').classList.add('show');
        }
        
        function renderBreakdownList() {
            const container = document.getElementById('breakdownList');
            container.innerHTML = '';
            
            Object.keys(subtasks).forEach(id => {
                const subtask = subtasks[id];
                const item = document.createElement('div');
                item.className = 'breakdown-item';
                item.innerHTML = `
                    <span class="breakdown-item-text">${subtask.text}</span>
                    <span class="breakdown-item-time">${subtask.time} min</span>
                    <button class="breakdown-item-remove" onclick="removeSubtask('${id}')">√ó</button>
                `;
                container.appendChild(item);
            });
        }
        
        function addSubtask() {
            const text = document.getElementById('newSubtask').value.trim();
            const time = parseInt(document.getElementById('subtaskTime').value);
            
            if (!text || !time || time < 5 || time > 60) {
                showNotification('Invalid Input', 'Please enter a valid subtask and time (5-60 minutes).');
                return;
            }
            
            const id = `subtask-${Date.now()}`;
            subtasks[id] = {
                text,
                time,
                completed: false
            };
            
            document.getElementById('newSubtask').value = '';
            document.getElementById('subtaskTime').value = 15;
            
            renderBreakdownList();
        }
        
        function removeSubtask(id) {
            delete subtasks[id];
            renderBreakdownList();
        }
        
        function closeBreakdownModal() {
            document.getElementById('breakdownModal').classList.remove('show');
            currentEditingTaskId = null;
            subtasks = {};
        }
        
        function saveBreakdown() {
            if (!currentEditingTaskId) return;
            
            const taskIndex = tasks.findIndex(t => t.id === currentEditingTaskId);
            if (taskIndex === -1) return;
            
            // Convert subtasks object to array
            tasks[taskIndex].subtasks = Object.keys(subtasks).map(id => ({
                id,
                text: subtasks[id].text,
                time: subtasks[id].time,
                completed: subtasks[id].completed
            }));
            
            saveTasks();
            renderTasks();
            closeBreakdownModal();
            showNotification('Success!', 'Task breakdown saved.');
        }
        
        function toggleSubtask(taskId, subtaskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;
            
            const subtask = task.subtasks.find(st => st.id === subtaskId);
            if (!subtask) return;
            
            subtask.completed = !subtask.completed;
            
            // Check if all subtasks are completed
            const allCompleted = task.subtasks.every(st => st.completed);
            if (allCompleted && !task.completed) {
                // Auto-complete the task if all subtasks are done
                completeTask(taskId);
            } else {
                saveTasks();
                renderTasks();
            }
        }
        
        function startSession(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;
            
            currentTaskId = taskId;
            isPaused = false;
            isBreakTime = false;
            
            // Set timer to 25 minutes by default
            timerSeconds = 25 * 60;
            updateTimerDisplay();
            
            document.getElementById('timerTaskName').textContent = task.taskName;
            document.getElementById('timerModal').classList.add('show');
            
            // Auto-start the timer
            startTimer();
        }
        
        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                if (!isPaused) {
                    timerSeconds--;
                    updateTimerDisplay();
                    
                    if (timerSeconds <= 0) {
                        clearInterval(timerInterval);
                        timerComplete();
                    }
                }
            }, 1000);
        }
        
        function pauseTimer() {
            isPaused = !isPaused;
            document.getElementById('timerPause').textContent = isPaused ? 'Resume' : 'Pause';
        }
        
        function stopTimer() {
            clearInterval(timerInterval);
            
            // Save the session
            if (currentTaskId && timerSeconds < 25 * 60) {
                const task = tasks.find(t => t.id === currentTaskId);
                if (task) {
                    const sessionDuration = 25 * 60 - timerSeconds; // in seconds
                    task.sessions.push({
                        date: new Date().toISOString(),
                        duration: sessionDuration
                    });
                    
                    // Update user data
                    userData.totalFocusTime += Math.round(sessionDuration / 60);
                    userData.currentSessionStreak++;
                    
                    // Add points based on session duration
                    const pointsEarned = Math.min(25, Math.round(sessionDuration / 60));
                    addPoints(pointsEarned);
                    
                    saveTasks();
                    saveUserData();
                    updateGamification();
                    checkAchievements();
                }
            }
            
            document.getElementById('timerModal').classList.remove('show');
            currentTaskId = null;
            timerSeconds = 25 * 60;
            isPaused = false;
        }
        
        function timerComplete() {
            if (isBreakTime) {
                // Break is over, start next work session
                isBreakTime = false;
                timerSeconds = 25 * 60;
                showNotification('Break Over', 'Time to get back to work!');
            } else {
                // Work session is over, start break
                isBreakTime = true;
                timerSeconds = 5 * 60; // 5-minute break
                showNotification('Session Complete', 'Great job! Take a 5-minute break.');
                
                // Add points for completing a session
                addPoints(10);
            }
            
            updateTimerDisplay();
            startTimer();
        }
        
        function skipBreak() {
            if (isBreakTime) {
                clearInterval(timerInterval);
                isBreakTime = false;
                timerSeconds = 25 * 60;
                updateTimerDisplay();
                startTimer();
            }
        }
        
        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function completeTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;
            
            task.completed = true;
            task.completedDate = new Date().toISOString().split('T')[0];
            task.progress = 100;
            
            // Mark all subtasks as completed
            if (task.subtasks) {
                task.subtasks.forEach(subtask => {
                    subtask.completed = true;
                });
            }
            
            saveTasks();
            renderTasks();
            updateSummary();
            
            // Update user data
            userData.tasksCompletedToday++;
            
            // Check if this is the first task today
            const today = new Date().toISOString().split('T')[0];
            if (userData.lastTaskDate !== today) {
                userData.lastTaskDate = today;
                userData.currentStreak++;
            }
            
            // Add points based on difficulty
            const pointsMap = {
                'easy': 15,
                'medium': 25,
                'hard': 40,
                'overwhelming': 60
            };
            addPoints(pointsMap[task.difficulty] || 15);
            
            saveUserData();
            updateGamification();
            checkAchievements();
            
            showNotification('Completed!', `Great job! You completed "${task.taskName}".`);
        }
        
        function editTask(index) {
            const task = tasks[index];
            
            // Pre-fill the form with task details
            document.getElementById('taskName').value = task.taskName;
            document.getElementById('taskCategory').value = task.category;
            document.getElementById('estimatedTime').value = task.estimatedTime;
            document.getElementById('difficulty').value = task.difficulty;
            document.getElementById('taskDescription').value = task.description;
            
            // Remove the task from the array (will be re-added when form is submitted)
            tasks.splice(index, 1);
            saveTasks();
            renderTasks();
            updateSummary();
            
            // Scroll to the form
            document.querySelector('.procrastination-form-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        function deleteTask(index) {
            if (confirm('Are you sure you want to delete this task?')) {
                tasks.splice(index, 1);
                saveTasks();
                renderTasks();
                updateSummary();
                showNotification('Deleted', 'Task removed from your list.');
            }
        }
        
        function clearAllTasks() {
            if (tasks.length === 0) {
                showNotification('No Tasks', 'There are no tasks to clear.');
                return;
            }
            
            if (confirm('Are you sure you want to clear all tasks? This action cannot be undone.')) {
                tasks = [];
                saveTasks();
                renderTasks();
                updateSummary();
                showNotification('Cleared', 'All tasks have been removed.');
            }
        }
        
        function exportToCSV() {
            if (tasks.length === 0) {
                showNotification('No Data', 'There are no tasks to export.');
                return;
            }
            
            let csv = 'Task Name,Category,Estimated Time,Difficulty,Progress,Completed,Created At\n';
            
            tasks.forEach(task => {
                csv += `"${task.taskName}","${task.category}",${task.estimatedTime},"${task.difficulty}",${task.progress}%,${task.completed ? 'Yes' : 'No'},"${task.createdAt}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `tasks_${new Date().toISOString().slice(0, 10)}.csv`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Exported', 'Your tasks have been exported as CSV.');
        }
        
        function addPoints(points) {
            userData.points += points;
            document.getElementById('totalPoints').textContent = userData.points;
        }
        
        function unlockAchievement(achievementId) {
            const badge = document.getElementById(achievementId);
            if (badge) {
                badge.classList.add('unlocked');
            }
        }
        
        function checkAchievements() {
            // First Task
            if (userData.achievements.firstTask) {
                unlockAchievement('firstTask');
            }
            
            // Three Tasks
            if (!userData.achievements.threeTasks && userData.tasksCompletedToday >= 3) {
                userData.achievements.threeTasks = true;
                unlockAchievement('threeTasks');
                addPoints(20);
                showNotification('Achievement Unlocked!', 'Three Tasks: You completed 3 tasks in one day!');
            }
            
            // Week Streak
            if (!userData.achievements.weekStreak && userData.currentStreak >= 7) {
                userData.achievements.weekStreak = true;
                unlockAchievement('weekStreak');
                addPoints(50);
                showNotification('Achievement Unlocked!', 'Week Streak: You completed tasks for 7 days in a row!');
            }
            
            // Ten Hours
            if (!userData.achievements.tenHours && userData.totalFocusTime >= 600) { // 600 minutes = 10 hours
                userData.achievements.tenHours = true;
                unlockAchievement('tenHours');
                addPoints(30);
                showNotification('Achievement Unlocked!', 'Ten Hours: You completed 10 hours of focus time!');
            }
            
            // Hard Task
            if (!userData.achievements.hardTask) {
                const hardTaskCompleted = tasks.some(task => 
                    task.completed && (task.difficulty === 'hard' || task.difficulty === 'overwhelming')
                );
                
                if (hardTaskCompleted) {
                    userData.achievements.hardTask = true;
                    unlockAchievement('hardTask');
                    addPoints(25);
                    showNotification('Achievement Unlocked!', 'Hard Task: You completed a hard or overwhelming task!');
                }
            }
            
            // Early Bird (completed a task before 9 AM)
            if (!userData.achievements.earlyBird) {
                const earlyTaskCompleted = tasks.some(task => {
                    if (!task.completed || !task.completedDate) return false;
                    const taskDate = new Date(task.completedDate + 'T09:00:00');
                    const completedTime = new Date(task.completedAt || task.completedDate);
                    return completedTime < taskDate;
                });
                
                if (earlyTaskCompleted) {
                    userData.achievements.earlyBird = true;
                    unlockAchievement('earlyBird');
                    addPoints(15);
                    showNotification('Achievement Unlocked!', 'Early Bird: You completed a task before 9 AM!');
                }
            }
            
            saveUserData();
        }
        
        function saveTasks() {
            localStorage.setItem('procrastinationTasks', JSON.stringify(tasks));
        }
        
        function loadTasks() {
            const saved = localStorage.getItem('procrastinationTasks');
            if (saved) {
                tasks = JSON.parse(saved);
                renderTasks();
            }
        }
        
        function saveUserData() {
            localStorage.setItem('procrastinationUserData', JSON.stringify(userData));
        }
        
        function loadUserData() {
            const saved = localStorage.getItem('procrastinationUserData');
            if (saved) {
                userData = JSON.parse(saved);
            }
        }
        
        function showNotification(title, message) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                closeNotification();
            }, 5000);
        }
        
        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }
        
        // Timer button event listeners
        document.getElementById('timerStart').addEventListener('click', startTimer);
        document.getElementById('timerPause').addEventListener('click', pauseTimer);
        document.getElementById('timerStop').addEventListener('click', stopTimer);
        document.getElementById('timerSkip').addEventListener('click', skipBreak);
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const timerModal = document.getElementById('timerModal');
            const breakdownModal = document.getElementById('breakdownModal');
            
            if (event.target === timerModal) {
                stopTimer();
            }
            
            if (event.target === breakdownModal) {
                closeBreakdownModal();
            }
        }
    </script>
</body>
</html>
